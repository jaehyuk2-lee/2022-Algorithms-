//2022-12-12 code 4.4 to C
/*크기가 12인 실수 배열 A가 주어지고 범위 M이 주어지면 구간의 평균값을 구한다.
  이때 계산이 중복되는 경우가 있는데, 합 구하기에서 앞선 계산의 제일 앞을 빼고
  제일 마지막을 추가하는 규칙이 있다. 이를 통해 수행시간을 줄일수 있다.*/
#include <stdio.h>

int main()
{
    int A[12]={5, 4, 3, 7, 4, 5, 3, 9, 1, 6, 8, 5};
    int M;
    printf("계산범위: ");
    scanf("%d", &M);
    
    double sum = 0;
    double average = 0;
    
    for(int i=0; i<M-1; i++){
        sum+=A[i];
    }//초기 점화식 설정
    
    for(int i=M-1; i<12; i++){
        sum+=A[M-1];//마지막을 더하고
        average=sum/M;//평균을 구하고
        sum-=A[i-M+1];//처음을 빼서 다시 마지막을 구할 준비를 한다.
        printf("%d월부터 %d개월간 이동평균%f\n", i-M+2, M, average);
    }

    return 0;
}
/*처음 반복은 12-M+1번 안의 반복은 M번 따라서 수행시간은 M*(12-M+1),
12가 변수N으로 주어지면 M*(N-M+1)*/
